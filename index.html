<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PHIDE</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500&family=Inter:wght@300;400&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>

<body class="bg-[#EFF4FA] text-[#010435]" style="font-family: 'Playfair Display', serif;">
  <div id="navbar-root"></div>
  <!-- HERO -->
  <section class="hero" style="min-height: 100vh; padding-top: 80px;">
    <div class="hero-content">
      <h1>
        PHIDE: Philosophical<br>
        digital edition<br>
        catalogue
      </h1>
      <p class="hero-small bottom">
        PHIDE aims to provide a comprehensive overview of the current landscape of digital scholarly editions in philosophy. It serves as a structured entry point for students and researchers to access and discover digital editions.
      </p>
    </div>
    <div class="scroll-indicator">
      <span>SCROLL</span>
      <div class="line"></div>
    </div>
  </section>


  <!-- SECOND SECTION -->
  <section class="stats-section">
    <div class="container-fluid px-md-5">
      <div class="row">
        <div class="col-12 col-lg-10">
        <h4 class="display-main">
          Development of PHIDE began in 2026, with the goal of mapping the landscape of digital scholarly editions in philosophy and delivering an interactive, user-friendly platform. Students and researchers can browse, search, filter, and organize digital editions by language, historical period, tools and other research interests.
        </h4>        
        </div>
      </div>
      <div class="row mt-5 align-items-start" style="font-family: 'Playfair Display', serif;">
        <div class="col-12 col-md-6">
          <div class="counter-wrapper">
            <span id="counter">0</span><span class="counter-label">editions</span>
          </div>
        </div>
      </div>
    </div>
  </section>

<!-- FOOTER -->
<footer class="bg-[#111827] text-gray-400 py-4">
  <div class="max-w-7xl mx-auto px-6 text-center text-sm">
    <span class="text-white font-semibold">PHIDE</span>
    <span class="mx-2">·</span>
    <a href="mailto:chiara.martina3@studio.unibo.it" class="hover:text-white underline">
      chiara.martina3@studio.unibo.it
    </a>
    <span class="mx-2">·</span>
    <span>&copy; 2026 CC BY-SA 4.0</span>
  </div>
</footer>

<!-- Counter -->
<script>
  const counterElement = document.getElementById("counter");
  const maxCount = 59;
  let counter = 0;
  let countingStarted = false; // evita di ripartire più volte
  const counterSection = document.querySelector(".stats-section");
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting && !countingStarted) {
        countingStarted = true;
        const interval = setInterval(() => {
          counter++;
          counterElement.textContent = counter;
          if (counter >= maxCount) {
            clearInterval(interval);
          }
        }, 50); 
      }
    });
  }, { threshold: 0.5 }); 

  observer.observe(counterSection);
</script>


<!-- React Navbar Script -->
<script type="text/babel">
function Navbar() {
  const [mobileOpen, setMobileOpen] = React.useState(false);
  const [dropdownOpen, setDropdownOpen] = React.useState(false);
  return (
    <nav className="w-full bg-[#EFF4FA] border-b border-black fixed top-0 left-0 z-50 font-['Inter']">
      <div className="max-w-7xl mx-auto px-4">
        <div className="flex justify-between h-16 items-center">
          {/* Logo */}
          <a href="index.html" className="text-xl font-semibold text-[#010435]">
            PHIDE
          </a>
          {/* Desktop menu */}
          <div className="hidden md:flex space-x-6 items-center">
            {/* Dropdown */}
            <div className="relative">
            <button
              onClick={() => setDropdownOpen(!dropdownOpen)}
              className="flex items-center gap-1 font-medium hover:text-[#5A7796]">
              Browse
              <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            {dropdownOpen && (
              <div className="absolute mt-2 w-48 bg-white border rounded shadow flex flex-col">
                <a href="catalogue-period.html" className="block px-4 py-2 hover:bg-gray-100">
                  Catalogue
                </a>
                <a href="scheda.html" className="block px-4 py-2 hover:bg-gray-100">
                  Schedule
                </a>
              </div>
            )}
          </div>
            <a href="map.html" className="font-medium hover:text-[#5A7796]">Map</a>
            <a href="documentation.html" className="font-medium hover:text-[#5A7796]">Documentation</a>
          </div>
          {/* Mobile button */}
          <button
            onClick={() => setMobileOpen(!mobileOpen)}
            className="md:hidden"
          >
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              {mobileOpen ? (
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
              ) : (
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
              )}
            </svg>
          </button>
        </div>
      </div>

      {/* Mobile menu */}
      {mobileOpen && (
        <div className="md:hidden bg-white border-t px-4 py-3 space-y-2">
          <a href="" className="block">Browse</a>
           <a href="catalogue-period.html" className="block">Catalogue</a>
          <a href="scheda.html" className="block">Scheda</a>
          <a href="map.html" className="block">Map</a>
          <a href="documentation.html" className="block">Documentation</a>
        </div>
      )}
    </nav>
  );
}
    ReactDOM.createRoot(document.getElementById("navbar-root")).render(<Navbar />);
  </script>

<script>
document.addEventListener("DOMContentLoaded", () => {

  let branches = [];
  let currentIndex = 0;

  fetch(".data/list_json.json")
    .then(res => {
      if (!res.ok) throw new Error("JSON non trovato");
      return res.json();
    })
    .then(data => {
      const set = new Set();
      data.forEach(item => {
        if (item.branch) {
          item.branch.split(",").forEach(b => set.add(b.trim()));
        }
      });

      branches = [...set];
      renderCarousel();
    })
    .catch(err => {
      console.error("Errore caricamento JSON:", err);
    });

  function renderCarousel() {
    const container = document.getElementById("branch-carousel");
    if (!container) return;

    container.innerHTML = "";

    branches.forEach((branch, index) => {
      const card = document.createElement("div");
      card.className = "branch-card";

      if (index === currentIndex) card.classList.add("active");
      else if (index === currentIndex - 1) card.classList.add("left");
      else if (index === currentIndex + 1) card.classList.add("right");

      card.innerHTML = `
        <h3>${branch}</h3>
        <p>
          Explore scholarly digital editions related to
          <strong>${branch}</strong>.
        </p>
      `;

      card.onclick = () => {
        window.location.href =
          `catalogue.html?branch=${encodeURIComponent(branch)}`;
      };

      container.appendChild(card);
    });
  }

  window.nextBranch = function () {
    currentIndex = (currentIndex + 1) % branches.length;
    renderCarousel();
  };

  window.prevBranch = function () {
    currentIndex =
      (currentIndex - 1 + branches.length) % branches.length;
    renderCarousel();
  };

});
</script>

</body>
</html>
